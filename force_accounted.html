<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Th Force: Accounted (in R)</title>

<script src="force_accounted_files/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="force_accounted_files/bootstrap-3.3.5/css/bootstrap.min.css" rel="stylesheet" />
<script src="force_accounted_files/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="force_accounted_files/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="force_accounted_files/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="force_accounted_files/navigation-1.1/tabsets.js"></script>
<link href="force_accounted_files/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="force_accounted_files/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlightingOnLoad(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>



<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="fluid-row" id="header">




</div>


<style>
html, body, div, h1, h2, h3 {
  background:black; 
  background-color:black;
  color:white
}
a {
  color: #78dcff;
}
div { padding-top:30px; padding-bottom:30px; }
</style>
<center>
<img style="max-width:100%" src="title.svg"/>
</center>
<center>
<h1>
IN
</h1>
</center>
<center>
<img style="padding-bottom:30px" src="Rlogo.png"/>
</center>
<p>This is what happens when you carelessly tweet things like this:</p>
<blockquote class="twitter-tweet" lang="en">
<p lang="en" dir="ltr">
<a href="https://t.co/R3qVHEMTLo">https://t.co/R3qVHEMTLo</a> <a href="https://twitter.com/hrbrmstr"><span class="citation" data-cites="hrbrmstr">@hrbrmstr</span></a> is there an R package? ;)
</p>
— Thorsten G. (<span class="citation" data-cites="SaThaRiel74">@SaThaRiel74</span>) <a href="https://twitter.com/SaThaRiel74/status/685571947032395776">January 8, 2016</a>
</blockquote>
<script async src="http://platform.twitter.com/widgets.js" charset="utf-8"></script>
<p>It turns out this is a pretty decent data munging and ggplot2 wrangling exercise. If you web-inspect the Bloomberg page (if it’s not obvious I’ve fair-used some of their styles &amp; images and their data) you’ll find they use a few CSVs. I grabbed them and put them into a data folder and wrapped the reading of them into functions. If this were a “real” package I’d’ve put them in R data files.</p>
<p>I didn’t cheat and use widgets or a separate HTML+SVG combo this time. Everything is ggplot2. That also puts limitations (yes, ggplot2 has limits) on what we can do. So I’ve ggplot2-ized the emulated visualizations, starting with <em>“Good vs. Evil”</em>. There are some neat tricks here to get space for the <em>“Light | Episode | Dark”</em> label line and a custom label function to convert the time. While I could have spent time allowing for a space in the middle, it was easier to just put the episode numbers at <code>0</code> (and it looks kinda cool IMO).</p>
<div style="background:black">
<p><img src="force_accounted_files/figure-html/unnamed-chunk-2-1.png" width="960" /></p>
</div>
<p>I was not about to deal with raster images and just leaned on ggplot2’s strengths at core visualizations here (and they kinda look like light saber bars if you squint). You can learn how to do colored bar label annotations by looking at this example.</p>
<div style="background:black">
<p><img src="force_accounted_files/figure-html/unnamed-chunk-3-1.png" width="960" /></p>
</div>
<p>I’m kinda proud of this one. This is some pretty complex use of facets, color/fill aesthetics and arranging the grobs. Again, no images since they’re kind of a pain to use with the precision necessary. I <em>almost</em> created a font from the images but I really had real stuff to do this weekend.</p>
<div style="background:black">
<h1 style="color:white; padding:5px">
Applied Force
</h1>
<p><img src="force_accounted_files/figure-html/unnamed-chunk-4-1.png" width="960" /></p>
</div>
<p>Many of the Bloomberg visualizations rely heavily on interactive effects and <em>“May the Force Be Mentioned”</em> also had images. I went with a static plot, sizing, coloring &amp; labeling circles accordingly. Some more “fancy” facet work here for those inclined to poke at the code.</p>
<div style="background:black">
<p><img src="force_accounted_files/figure-html/unnamed-chunk-5-1.png" width="960" /></p>
</div>
<p>This ended up being an exercise more in data wrangling than anything else, but it came out pretty well, despite the lack of interactivity.</p>
<div style="background:black">
<p><img src="force_accounted_files/figure-html/unnamed-chunk-6-1.png" width="960" /></p>
</div>
<p>You can find all this <a href="https://github.com/hrbrmstr/forceaccounted">on github</a>, and may the FoRce be with you!</p>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
